<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>Java 中 String 与 StringBuffer 和 StringBuilder 的区别 | 陈思羽</title>

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://clownjerome.github.io/favicon.ico?v=1635517251912">
<link rel="stylesheet" href="https://clownjerome.github.io/styles/main.css">



<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>



    <meta name="description" content="介绍
String 是 Java 中很常用的类之一，同时，字符串是 Java 面试中最重要的话题之一。
StringBuffer 和 StringBuilder 类提供了操作字符串的方法。
我们将研究 StringBuffer 和 Stri..." />
    <meta name="keywords" content="JAVA" />
  </head>
  <body>
    <div id="app" class="main">

      <div class="sidebar" :class="{ 'full-height': menuVisible }">
  <div class="top-container" data-aos="fade-right">
    <div class="top-header-container">
      <a class="site-title-container" href="https://clownjerome.github.io">
        <img src="https://clownjerome.github.io/images/avatar.png?v=1635517251912" class="site-logo">
        <h1 class="site-title">陈思羽</h1>
      </a>
      <div class="menu-btn" @click="menuVisible = !menuVisible">
        <div class="line"></div>
      </div>
    </div>
    <div>
      
        
          <a href="/" class="site-nav">
            首页
          </a>
        
      
        
          <a href="/archives" class="site-nav">
            归档
          </a>
        
      
        
          <a href="/tags" class="site-nav">
            标签
          </a>
        
      
        
          <a href="/post/about" class="site-nav">
            关于
          </a>
        
      
    </div>
  </div>
  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
    <div class="social-container">
      
        
      
        
      
        
      
        
      
        
      
    </div>
    <div class="site-description">
      天道酬勤
    </div>
    <div class="site-footer">
      欢迎来到陈思羽的个人博客 | <a class="rss" href="https://clownjerome.github.io/atom.xml" target="_blank">RSS</a>
    </div>
  </div>
</div>


      <div class="main-container">
        <div class="content-container" data-aos="fade-up">
          <div class="post-detail">
            <h2 class="post-title">Java 中 String 与 StringBuffer 和 StringBuilder 的区别</h2>
            <div class="post-date">2021-10-12</div>
            
            <div class="post-content" v-pre>
              <h2 id="介绍">介绍</h2>
<p>String 是 Java 中很常用的类之一，同时，字符串是 Java 面试中最重要的话题之一。</p>
<p>StringBuffer 和 StringBuilder 类提供了操作字符串的方法。</p>
<p>我们将研究 StringBuffer 和 StringBuilder 之间的区别。</p>
<p>StringBuffer 与 StringBuilder 的区别是 Java 中很常见的面试题。</p>
<p>在控制台上打印程序的内容，可以使用 String。此博客介绍 String 类的主要功能，然后我们将比较 StringBuffer 和 StringBuilder 类。</p>
<h2 id="string">String</h2>
<p>注意一个常见的错误，不要记错了。因为 String 是 final 修饰的，无法被继承。所以 String 不是 Java 的基本数据类型。<br>
字符串在 Java 中是不可变的，因此适合在多线程环境下使用。<br>
当我们使用双引号创建一个字符串时，如下，JVM 首先在字符串池中寻找具有相同值的字符串。</p>
<pre><code class="language-java">String str1 = &quot;ABC&quot;;
</code></pre>
<p>如果找到了，它将返回字符串池中的字符串对象的引用。否则，它会在字符串池中创建字符串对象并返回引用。JVM 通过在不同的线程中使用相同的字符串，节省了大量的内存。</p>
<p>如果使用 new 运算符创建字符串，则会在堆中创建它。</p>
<p>运算符 <code>+</code> 是为 String 重载的，我们可以用它来串联两个字符串。尽管在内部它使用 StringBuilder 来执行这个动作。</p>
<p>两个字符串只有在它们具有相同字符串的时候才相等，equals() 方法区分大小写。如果您正在寻找不区分大小写的检查，您应该使用 equalsIgnoreCase() 方法。</p>
<h2 id="拼接字符串">拼接字符串</h2>
<p>由于 String 在 Java 中是不可变的，因此每当我们执行字符串拼接操作时，它都会生成一个新的 String 并丢弃旧的 String 以进行垃圾收集。<br>
这些重复的操作会在堆中产生大量垃圾冗余。所以 Java 提供了 StringBuffer 和 StringBuilder 类，应该用于字符串操作。<br>
StringBuffer 和 StringBuilder 是 Java 中的可变对象。</p>
<p>它们为字符串操作提供了 <code>append</code>、<code>insert</code>、<code>delete</code> 和 <code>substring</code> 方法。</p>
<table>
<thead>
<tr>
<th style="text-align:left">StringBuffer</th>
<th style="text-align:left">StringBuilder</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">线程安全</td>
<td style="text-align:left">非线程安全</td>
</tr>
<tr>
<td style="text-align:left">同步</td>
<td style="text-align:left">非同步</td>
</tr>
<tr>
<td style="text-align:left">始于 Java 1.0</td>
<td style="text-align:left">始于 Java 1.5</td>
</tr>
<tr>
<td style="text-align:left">慢</td>
<td style="text-align:left">快</td>
</tr>
</tbody>
</table>
<p>在 Java 1.4 之前，StringBuffer 是字符串操作的唯一选择。但是，它的一个缺点是所有公共方法都是同步的。 StringBuffer 提供线程安全性，但以性能为代价。</p>
<p>在大多数情况下，我们不会在多线程环境中使用 String。所以 Java 1.5 引入了一个新类 StringBuilder，除了线程安全和同步之外，它与 StringBuffer 类似。</p>
<p>StringBuffer 有一些额外的方法，例如 substring, length, capacity, trimToSize 等。但是，这些不是必需的，因为 String 中也有所有这些。这就是为什么这些方法从未在 StringBuilder 类中实现的原因。</p>
<p>StringBuffer 是在 Java 1.0 中引入的，而 StringBuilder 类是在查看 StringBuffer 的缺点后在 Java 1.5 中引入的。</p>
<p>假设在单线程环境中或无关线程安全，要使用 StringBuilder。反之，使用 StringBuffer 进行线程安全的操作。</p>
<h2 id="总结">总结</h2>
<ul>
<li>String 是不可变的，而 StringBuffer 和 StringBuilder 是可变类。</li>
<li>StringBuffer 是线程安全和同步的，而 StringBuilder 不是。这就是 StringBuilder 比 StringBuffer 快的原因。</li>
<li>字符串连接运算符 (+) 在内部使用 StringBuilder 类。</li>
<li>对于非多线程环境中的字符串操作，我们应该使用 StringBuilder 否则使用 StringBuffer 类。</li>
</ul>

            </div>
            
              <div class="tag-container">
                
                  <a href="https://clownjerome.github.io/tag/qtTX93dUH/" class="tag">
                    JAVA
                  </a>
                
              </div>
            
            
              <div class="next-post">
                <div class="next">下一篇</div>
                <a href="https://clownjerome.github.io/post/wei-shi-me-hashmap-chang-yong-string-dui-xiang-zuo-key/">
                  <h3 class="post-title">
                    为什么 HashMap 常用 String 对象作 key
                  </h3>
                </a>
              </div>
            

            

          </div>

        </div>
      </div>
    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
<script type="application/javascript">

AOS.init();

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>






  </body>
</html>
